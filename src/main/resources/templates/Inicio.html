<!DOCTYPE html>
<html lang="pt-BR" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Cat Brinquedos</title>
    
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Fonte Poppins -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    
    <!-- CSS custom -->
    <link rel="stylesheet" href="css/styles.css">
    
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f8f9fa;
        }

        main {
            margin-top: 100px; /* Espaço para navbar fixa */
        }

        .catalogo-container h1 {
            text-align: center;
            margin-bottom: 40px;
            font-weight: 700;
        }

        .card {
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            transition: transform 0.2s;
        }

        .card:hover {
            transform: translateY(-5px);
        }

		.card-img-top {
			width: 100%;      /* ocupa toda a largura do card */
			height: 220px;    /* altura fixa */
			object-fit: fill; /* força a imagem a preencher o espaço (pode deformar) */
		}

        .card-body h5 {
            font-weight: 600;
        }

        .card-body .preco {
            font-weight: 700;
            color: #489FB2;
            display: block;
            margin-bottom: 10px;
        }

        .btn-primary {
            background-color: #4CD6BA;
            border: none;
        }

        .btn-primary:hover {
            background-color: rgb(145, 232, 232);
        }
		
		.footer-navbar {
		    padding-top: 2px;   /* menor que py-1 */
		    font-size: 0.8rem;  /* deixa o texto proporcional */
		    height: 32px;       /* define uma altura fixa (opcional) */
		  }

    </style>
</head>
<body>

    <!-- Navbar -->
    <div th:replace="navbar :: navbar"></div>

    <!-- Conteúdo principal -->
    <main>
		
		<div class="container mt-3">
		   <div class="mt-4 p-4 text-sucess rounded" style="background-color: #FFD469;">
		    <h2>Seja bem-vindo a nossa loja!</h2> 
		    <p> Salve salve entre ai e compre nossos brinquedos (não tem opção de compra ainda mas é isso fica olhando ai mesmo)</p> 
		  </div>
		</div>
		
		<div> 
			<p> </p>
		</div>
		
        <div class="container catalogo-container">
            <h1>Brinquedos em Destaque</h1>

            <div class="row g-4" id="destaques-container">
				<!-- Os brinquedos em destaque vão ser inseridos aqui via JS -->
			</div>
		</div>
    </main>
		<script>
		async function carregarDestaques() {
		    try {
		        // Busca todos os brinquedos do backend
		        const resposta = await fetch('/api/brinquedos');
		        const brinquedos = await resposta.json();

		        const container = document.getElementById('destaques-container');
				
				// Filtra apenas os destaques
				const destaques = brinquedos.filter(b => b.destaque);
				
				destaques.forEach(brinquedo => {
				     const card = document.createElement('div');
				     card.className = "col-md-4";
				     card.innerHTML = `
				          <div class="card">
				          <img src="${brinquedo.imagemPrincipal}" class="card-img-top" alt="${brinquedo.nome}">
				          <div class="card-body">
				             <h5 class="card-title">${brinquedo.nome}</h5>
				             <p class="card-text">${brinquedo.marca}</p>
				             <span class="preco">R$ ${brinquedo.preco.toFixed(2)}</span>
							 <a href="/detalhe/${brinquedo.id}" class="btn btn-primary w-100">Ver Detalhes</a>
				          </div>
		             </div>
				   `;
					container.appendChild(card);
							        });
					} catch (error) {
						console.error('Erro ao carregar brinquedos em destaque:', error);
						}
				}
				
				// Carrega quando a página abre
				window.onload = carregarDestaques;
				</script>
		<div> 
			<p> </p>
		</div>
		<footer class="navbar navbar-expand-sm footer-navbar">
			<div class="container-fluid" style="background-color: rgb(224, 224, 239);">
				<span class="navbar-text mx-auto">&copy; 2025 Nome da Loja de Brinquedo. Sobre a equipe.</span>
			</div>
		</footer>
	
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>