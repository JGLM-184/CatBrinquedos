<!DOCTYPE html>
<html lang="pt-BR" xmlns:th="http://www.thymeleaf.org">
<head>
    <!-- Fonte Poppins -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
	<title>Cat Brinquedos</title>
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

	<link rel="icon" href="/imagens/kitty.png">
    <style>
		html, body {
	        height: 100%;
	        margin: 0;
	        display: flex;
	        flex-direction: column;
	        background-image: url("/imagens/fundo5.png");
	        background-size: cover;
	        background-position: right left;
	        font-family: 'Poppins', sans-serif;
	    }
	
	    main {
	        margin-top: 3rem;
	        margin-bottom: 3rem;
	        flex: 1; /* empurra o footer para baixo */
	    }
		
		.product-detail-container {
			background-color: #FFF;
			border: solid 2px rgb(128, 128, 128);
			display: flex;
			gap: 40px;
			padding: 40px 5%;
			max-width: 75%;
			margin: 0 auto;
		}
		
		.product-image img {
			width: 10cm;
			height: 12cm;
			object-fit: fill;
		    border-radius: 8px;
		    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
		}
		
		.product-info h1 {
			color: var(--primary-color);
		    margin-top: 0;
		    font-size: 2.5em;
		}
		
		.product-info .description-section {
			margin-top: 30px;
			border-top: 1px solid #eee;
			padding-top: 20px;
		}
		
		.footer-navbar {
			padding-top: 2px;
		    font-size: 0.8rem;
	        height: 32px;
		}
		
		.espaco-Topo {
			padding-top: 1.5cm;
		}
		
		.btn-primary {
			background-color: rgb(248, 187, 61);
			border: none;
		}
		
		.btn-primary:hover {
			background-color: rgb(242, 150, 11);
			border: none;
		}
    </style>
</head>
<body>
	<!-- Navbar -->
	<div th:replace="~{navbar :: navbar}"></div>

	<main>
		<div class="espaco-Topo">
			<div class="product-detail-container">
				<div class="product-image">
					<img th:src="${brinquedo.imagemPrincipal}" class="card-img-top" th:alt="${brinquedo.nome}">
				</div>

				<div class="product-info">
					<h1 th:text="${brinquedo.nome}"></h1>

					<div class="description-section">
						<h2>Detalhes do brinquedo:</h2>
						<p th:text="${brinquedo.descricao}"></p>
						<p><strong>Marca:</strong> <span th:text="${brinquedo.marca}"></span></p>
						<p><strong>Categoria:</strong> <span th:text="${brinquedo.categoria.nome}"></span></p>
						<p><strong>Idade Ideal:</strong> <span th:text="${brinquedo.idadeIdeal}"></span></p>
						
						<h3>
							<p>
								<strong>Preço:</strong> 
								R$ <span class="preco" th:text="${#numbers.formatDecimal(brinquedo.preco, 2, 'COMMA', 2, 'POINT')}"></span>
							</p>
						</h3>

						<!-- Botão para adicionar à lista de desejos -->
						<button class="btn btn-primary w-75 mt-3" 
						        th:attr="onclick='adicionarDesejo(' + ${brinquedo.id} + ')'">
							Adicionar à lista de desejos
						</button>
						
						<a class="btn btn-secondary w-75 mt-3" th:if="${#authorization.expression('isAuthenticated()')}"
							th:href="@{'/admin/brinquedos/editar-brinquedo/' + ${brinquedo.id}}">
							Editar
						</a>
						<a class="btn btn-danger w-75 mt-3" th:if="${#authorization.expression('isAuthenticated()')}"
							th:href="@{'/admin/brinquedos/excluir-brinquedo/' + ${brinquedo.id}}" 
							onclick="return confirm('Tem certeza que deseja excluir este brinquedo?')">
							Excluir
						</a>
					</div>
				</div>
			</div>
		</div>
	</main>

	<!-- Footer -->
	<footer class="navbar navbar-expand-sm footer-navbar">
        <div class="container-fluid" style="background-color: rgb(224, 224, 239);">
            <span class="navbar-text mx-auto">&copy; 2025 Cat Brinquedos. Todos os direitos reservados.</span>
        </div>
    </footer>
			
	<!-- Bootstrap JS -->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

	<!-- Script Lista de Desejos -->
	<script>
		function adicionarDesejo(id) {
			let lista = JSON.parse(localStorage.getItem('listaDesejos')) || [];

			if (!lista.includes(id)) {
				lista.push(id);
				localStorage.setItem('listaDesejos', JSON.stringify(lista));
				alert('Brinquedo adicionado à lista de desejos!');
			} else {
				alert('Este brinquedo já está na lista de desejos.');
			}
		}
	</script>
</body>
</html>